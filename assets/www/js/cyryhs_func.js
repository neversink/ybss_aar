function cyry_add_to_verify(r){var e="#jrhs"+r,t=[{text:"请选择",label:!0},{text:"正常",onClick:function(){cyry_hs_map.removeByKey(r+""),cyry_hs_map.put(r+"","正常"),$(e).html("正常"),cyry_refreshLabels(),cyry_arr_hsitem.remove(r),cyry_add_verify_item_jsonobj(r,1)}},{text:"未见面",onClick:function(){cyry_hs_map.removeByKey(r+""),cyry_hs_map.put(r+"","未见面"),$(e).html("未见面"),cyry_refreshLabels(),cyry_arr_hsitem.remove(r),cyry_add_verify_item_jsonobj(r,2)}},{text:"离职",onClick:function(){cyry_hs_map.removeByKey(r+""),cyry_hs_map.put(r+"","离职"),$(e).html("离职"),cyry_refreshLabels(),cyry_arr_hsitem.remove(r),cyry_add_verify_item_jsonobj(r,3)}}],_=[{text:"移除核实",bg:"danger",onClick:function(){cyry_hs_map.removeByKey(r+""),$(e).html("加入核实"),cyry_refreshLabels(),cyry_arr_hsitem.remove(r)}}],c=[{text:"取消",bg:"primary"}],y=[t,_,c];$.actions(y)}function zxcjry_add_to_verify(r){var e="#jrhs"+r,t=[{text:"请选择",label:!0},{text:"通过",onClick:function(){zxcjry_hs_map.removeByKey(r+""),zxcjry_hs_map.put(r+"","通过"),$(e).html("通过"),zxcjry_refreshLabels(),zxcjry_arr_hsitem.remove(r),zxcjry_add_verify_item_jsonobj(r,1)}},{text:"未通过",onClick:function(){zxcjry_hs_map.removeByKey(r+""),zxcjry_hs_map.put(r+"","未通过"),$(e).html("未通过"),zxcjry_refreshLabels(),zxcjry_arr_hsitem.remove(r),zxcjry_add_verify_item_jsonobj(r,2)}}],_=[{text:"移除核验",bg:"danger",onClick:function(){zxcjry_hs_map.removeByKey(r+""),$(e).html("加入核验"),zxcjry_refreshLabels(),zxcjry_arr_hsitem.remove(r)}}],c=[{text:"取消",bg:"primary"}],y=[t,_,c];$.actions(y)}function cyry_refreshLabels(){var r=cyry_hs_map.keysByValue("正常").length;$("#right_zcjz").html(r);var e=cyry_hs_map.keysByValue("离职").length;$("#right_lk").html(e);var t=cyry_hs_map.keysByValue("未见面").length;$("#right_wjm").html(t),0===r&&0===e&&0===t?(hasHscyry=!1,$("#cyry_right_labels").fadeOut(),$("#cyry_btn").fadeOut()):(hasHsry=!0,$("#cyry_right_labels").fadeIn(),$("#cyry_btn").fadeIn())}function zxcjry_refreshLabels(){var r=zxcjry_hs_map.keysByValue("通过").length;$("#xz_right_tg").html(r);var e=zxcjry_hs_map.keysByValue("未通过").length;$("#xz_right_wtg").html(e),0===r&&0===e?($("#zxcjry_right_labels").fadeOut(),$("#zxcjry_btn").fadeOut()):($("#zxcjry_right_labels").fadeIn(),$("#zxcjry_btn").fadeIn())}function cyry_clear_hs_cache(){cyry_hs_map=new Map,cyry_arr_hsitem=new Array,cyry_refreshLabels()}function zxcjry_clear_hs_cache(){zxcjry_hs_map=new Map,zxcjry_arr_hsitem=new Array,zxcjry_refreshLabels()}function cyry_add_verify_item_jsonobj(r,e){var t;switch(e){case 1:t="正常";break;case 2:t="未见面";break;case 3:t="离职"}var _=new Object;_.rylx="cyry",_.hsqk=t,_.rybh=r,_.dwid=get_current_dw_id(),_.systemid=get_current_system_id(),_.all_full_addr=get_current_all_full_addr(),cyry_arr_hsitem.push(_)}function zxcjry_add_verify_item_jsonobj(r,e){var t;switch(e){case 1:t="1",hsqk_name="通过";break;case 2:t="2",hsqk_name="未通过"}var _=new Object;_.rylx="cyry",_.check_state=t,_.xzbh=r,_.dwid=get_current_dw_id(),_.systemid=get_current_system_id(),_.all_full_addr=get_current_all_full_addr(),zxcjry_arr_hsitem.push(_)}function cyry_add_to_verify_commit(){var r=(cyry_hs_map.keys(),new AjaxJsonRequest("syrk_hsqk_save.jsp"));r.data.datas=cyry_arr_hsitem,r.send("提交审核中",function(r){for(var e=0;e<cyry_arr_hsitem.length;e++){var t=cyry_arr_hsitem[e].rybh,_=cyry_arr_hsitem[e].hsqk,c="#jrhs"+t,y="#ljhs"+t;$(c).html("已核实"),$(c).attr("onclick","javascript:void(0);"),$(y).html(_),$(y).attr("onclick","javascript:void(0);")}cyry_clear_hs_cache(),$.alert("提交核实成功")},function(r){$.alert("提交核实失败")})}function zxcjry_add_to_verify_commit(){var r=(zxcjry_hs_map.keys(),new AjaxJsonRequest("cyry_xz_sh_save.jsp"));r.data.datas=zxcjry_arr_hsitem,r.send("提交审核中",function(r){zxcjry_clear_hs_cache(),showTchToast("审核情况保存成功","-1",function(){$.pullToRefreshTrigger(".pull-to-refresh-content")})},function(r){$.alert("提交核实失败")})}function cyry_quick_verify(r){var e=[{text:"请选择",label:!0},{text:"正常",onClick:function(){cyry_quick_verify_commit(r,1)}},{text:"未见面",onClick:function(){cyry_quick_verify_commit(r,2)}},{text:"离职",onClick:function(){cyry_quick_verify_commit(r,3)}}],t=[{text:"取消",bg:"primary"}],_=[e,t];$.actions(_)}function zxcjry_quick_verify(r){var e=[{text:"请选择",label:!0},{text:"通过",onClick:function(){zxcjry_quick_verify_commit(r,1)}},{text:"未通过",onClick:function(){zxcjry_quick_verify_commit(r,2)}}],t=[{text:"取消",bg:"primary"}],_=[e,t];$.actions(_)}function cyry_quick_verify_commit(r,e){var t;switch(e){case 1:t="正常";break;case 2:t="未见面";break;case 3:t="离职"}var _=new AjaxJsonRequest("syrk_hsqk_save.jsp");_.setData("rylx","cyry"),_.setData("hsqk",t),_.setData("rybh",r),_.setData("dwid",get_current_dw_id()),_.setData("systemid",get_current_system_id()),_.setData("all_full_addr",get_current_all_full_addr()),_.send("提交核实中",function(e){var _="#jrhs"+r,c="#ljhs"+r;$(_).html("已核实"),$(_).attr("onclick","javascript:void(0);"),$(c).html(t),$(c).attr("onclick","javascript:void(0);"),cyry_hs_map.removeByKey(r+""),cyry_refreshLabels(),$.alert("提交核实成功")},function(r){$.alert("提交核实失败")})}function zxcjry_quick_verify_commit(r,e){var t,_;switch(e){case 1:t="1",_="通过";break;case 2:t="2",_="未通过"}var c=new AjaxJsonRequest("cyry_xz_sh_save.jsp");c.setData("check_state",t),c.setData("xzbh",r),c.setData("dwid",get_current_dw_id()),c.setData("systemid",get_current_system_id()),c.setData("all_full_addr",get_current_all_full_addr()),c.send("核实中",function(e){var t="#jrhs"+r,c="#ljhs"+r;$(t).html("已核实"),$(t).attr("onclick","javascript:void(0);"),$(c).html(_),$(c).attr("onclick","javascript:void(0);"),zxcjry_hs_map.removeByKey(r+""),zxcjry_refreshLabels(),showTchToast("核实情况保存成功","-1",function(){})},function(r){$.alert("提交核实失败")})}function goto_cyry(r,e,t){saveCurrentCyryItem(t),window.location.href="xxxx_edit_cyry.html?type="+r+"&procmode="+e+"&cyry_id="+t}function goto_zxcjry(r,e){saveCurrentZxcjryItem(e),window.location.href="xxxx_edit_cyry.html?procmode=PMDETAIL&type="+r+"&cyry_id="+e}function getxzcyry_item(r){var e=(new xzcyry_List).item(r);return e}var cyry_hs_map=new Map,cyry_arr_hsitem=new Array,zxcjry_hs_map=new Map,zxcjry_arr_hsitem=new Array;Array.prototype.remove=function(r){var e=r;if(this.length>0)for(var t=0;t<this.length;t++)this[t].rybh==e&&this.splice(t,1)},$(function(){$("#cyry_btn").click(function(){cyry_arr_hsitem.length>0?cyry_add_to_verify_commit():$.alert("请添加需要进行核实的从业人员")}),$("#zxcjry_btn").click(function(){zxcjry_arr_hsitem.length>0?zxcjry_add_to_verify_commit():$.alert("请添加需要进行审批的自行采集人员")})});