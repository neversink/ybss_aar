function parseArray(e,t){for(var r=0;r<e.length;r++)if(e[r].indexOf(t)>=0)return!0;return!1}function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function trim(e){return e.replace(/(^\s*)|(\s*$)/g,"")}function file2http(e,t){for(var r=[],n=0;n<t.length;n++)t[n]="http://tch-pic/"+t[n].substring(8),r[n]=t[n];var o={localIds:r};e(o)}!function(){var e=navigator.userAgent,t=e.indexOf("MicroMessenger")>-1,r=e.indexOf("iPhone")>-1,n=e.indexOf("Android")>-1,o=!0;(t||r||n)&&(o=!1),t?document.write('<script type="text/javascript" src=js/jweixin-1.0.0.js"></script>'):r?document.write('<script type="text/javascript" src="js/tch_ios_hybrid.js"></script>'):n&&(document.write('<script type="text/javascript" src="js/tch_android_hybrid.js"></script>'),wx=function(){return{chooseImage:function(e){var t=100,r=parseArray(e.sourceType,"album"),n=parseArray(e.sourceType,"camera"),o=r&&n,i=parseArray(e.sizeType,"compressed");i&&(t=50),o?imagePicker.getPictures(function(t){file2http(e.success,t)},null,{maximumImagesCount:e.count,quality:100,withCamera:!0}):r?imagePicker.getPictures(function(t){file2http(e.success,t)},null,{maximumImagesCount:e.count,quality:100,withCamera:!1}):n&&navigator.camera.getPicture(function(t){file2http(e.success,[t])},null,{quality:this.q})},scanQRCode:function(e){if(1==e.needResult)return void alert(不支持由微信处理二维码);var t="";t=e.prompt?"请放置二维码于扫描区域":e.prompt,cordova.plugins.barcodeScanner.scan(e.success,e.error,{preferFrontCamera:!1,showFlipCameraButton:!1,prompt:this.prompt,formats:"QR_CODE,PDF_417",orientation:"portrait"})},previewImage:function(e){viewpager.previewImage(function(e){},function(e){},e)},uploadImage:function(e){function t(t){e.success({serverId:trim(t.response)}),console.log("Code = "+t.responseCode),console.log("Response = "+t.response),console.log("Sent = "+t.bytesSent)}function r(e){console.log("An error has occurred: Code = "+e.code),console.log("upload error source "+e.source),console.log("upload error target "+e.target)}var n="file:///"+e.localId.substring(15),o=encodeURI("http://www.tchsoft.com/tchoa_xiachen/t_downwximage.jsp"),i=new FileUploadOptions,s={"Content-Length":"100"},c=guid();i.headers=s,i.fileName=c+e.localId.substr(e.localId.lastIndexOf("."));var a=new FileTransfer;1==e.isShowProgressTips&&(a.onprogress=function(e){e.lengthComputable?loadingStatus.setPercentage(e.loaded/e.total):loadingStatus.increment()}),a.upload(n,o,t,r,i)},fuck:function(){alert("fuck")},config:function(){},ready:function(){},error:function(){},fail:function(){},checkJsApi:function(){}}}())}();