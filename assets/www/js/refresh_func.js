function initInfiniteScroll(i,n,l){handleInfiniteScroll(i,n,l),$.attachInfiniteScroll($(".infinite-scroll")),$(document).on("infinite",".infinite-scroll",function(){isInfiniteScrollLoading||handleInfiniteScroll(i,n,l)})}function handleInfiniteScroll(i,n,l){return $(".infinite-scroll-preloader").show(),infiniteScrollCurrentNum>=infiniteScrollMaxNum?($.detachInfiniteScroll($(".infinite-scroll")),void $(".infinite-scroll-preloader").remove()):(isInfiniteScrollLoading=!0,void i.send(function(e){var o=e.datas.length;infiniteScrollCurrentNum+=o,o>0?(o<infiniteScrollPageSize&&$.detachInfiniteScroll($(".infinite-scroll")),infiniteScrollPageNum+=1,i.setPages(infiniteScrollPageNum,infiniteScrollPageSize,infiniteScrollTableSize),n(e)):(l("无更多数据"),$.detachInfiniteScroll($(".infinite-scroll"))),isInfiniteScrollLoading=!1,$(".infinite-scroll-preloader").hide()},function(i){l(i),isInfiniteScrollLoading=!1,$(".infinite-scroll-preloader").hide()}))}var isInfiniteScrollLoading=!1,infiniteScrollMaxNum=1e3,infiniteScrollPageNum=0,infiniteScrollCurrentNum=0,infiniteScrollPageSize=15,infiniteScrollTableSize=-1;