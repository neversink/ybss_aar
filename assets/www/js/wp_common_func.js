function load_wp_data(){for(var c=[],e=0;e<wp_form_num;e++){var _="wp_form"+e,a=loadFormToJsonObject("#"+_);if(a.good_num<0)return void $.alert("请输入正确的物品数量!");a.good_type&&(a.wpczlx="xz",c.push(a))}return c}function openLxqDict(c){openDictDialogInForm("选择烈性犬种类","烈性犬","good_name","","wp_form"+c)}function openDmxDict(c){openDictDialogInForm("选择低慢小种类","低慢小","good_name","","wp_form"+c)}function createWPlist(){if(is_check_LXQ&&has_LXQ===-1)$("#wp").append(create_wp_item("烈性犬",wp_form_num)),has_LXQ=wp_form_num,wp_form_num++;else if(!is_check_LXQ&&has_LXQ>-1){var c="#wp_form"+has_LXQ;$(c).remove(),has_LXQ=-1}if(is_check_XG&&has_XG===-1)$("#wp").append(create_wp_item("信鸽",wp_form_num)),has_XG=wp_form_num,wp_form_num++;else if(!is_check_XG&&has_XG>-1){var c="#wp_form"+has_XG;$(c).remove(),has_XG=-1}if(is_check_DMX&&has_DMX===-1)$("#wp").append(create_wp_item("低慢小",wp_form_num)),has_DMX=wp_form_num,wp_form_num++;else if(!is_check_DMX&&has_DMX>-1){var c="#wp_form"+has_DMX;$(c).remove(),has_DMX=-1}if(is_check_GZDJ&&has_GZDJ===-1)$("#wp").append(create_wp_item("管制刀具",wp_form_num)),has_GZDJ=wp_form_num,wp_form_num++;else if(!is_check_GZDJ&&has_GZDJ>-1){var c="#wp_form"+has_GZDJ;$(c).remove(),has_GZDJ=-1}if(is_check_QZDY&&has_QZDY===-1)$("#wp").append(create_wp_item("枪支（弹药）",wp_form_num)),has_QZDY=wp_form_num,wp_form_num++;else if(!is_check_QZDY&&has_QZDY>-1){var c="#wp_form"+has_QZDY;$(c).remove(),has_QZDY=-1}if(is_check_GN&&has_GN===-1)$("#wp").append(create_wp_item("弓（弩）",wp_form_num)),has_GN=wp_form_num,wp_form_num++;else if(!is_check_GN&&has_GN>-1){var c="#wp_form"+has_GN;$(c).remove(),has_GN=-1}if(is_check_WBWP&&has_WBWP===-1)$("#wp").append(create_wp_item("危爆物品",wp_form_num)),has_WBWP=wp_form_num,wp_form_num++;else if(!is_check_WBWP&&has_WBWP>-1){var c="#wp_form"+has_WBWP;$(c).remove(),has_WBWP=-1}if(is_check_QTWXY&&has_QTWXY===-1)$("#wp").append(create_wp_item("其他危险源",wp_form_num)),has_QTWXY=wp_form_num,wp_form_num++;else if(!is_check_QTWXY&&has_QTWXY>-1){var c="#wp_form"+has_QTWXY;$(c).remove(),has_QTWXY=-1}create_wp_common_callback($("#wp").children().length)}function subtractNum(c,e){var _="#form"+c,a=$(_).find('input[name="good_num"]').val();a>0&&(a--,$(_).find('input[name="good_num"]').val(a))}function addNum(c,e){var _="#form"+c,a=$(_).find('input[name="good_num"]').val();a++,$(_).find('input[name="good_num"]').val(a)}function close_wp_item(c,e){$.modal({title:"提示",text:"你确定要删除【"+c+"】这项物品吗?",buttons:[{text:"关闭",onClick:function(){}},{text:"删除",onClick:function(){var _="#wp_form"+e;$(_).remove(),"烈性犬"==c&&(has_LXQ=-1),"信鸽"==c&&(has_XG=-1),"低慢小"==c&&(has_DMX=-1),"危爆物品"==c&&(has_WBWP=-1),"管制刀具"==c&&(has_GZDJ=-1),"枪支（弹药）"==c&&(has_QZDY=-1),"弓（弩）"==c&&(has_GN=-1),"其他危险源"==c&&(has_QTWXY=-1),has_LXQ>-1||has_XG>-1||has_DMX>-1||has_WBWP>-1||has_GZDJ>-1||has_QZDY>-1||has_GN>-1||has_QTWXY>-1?create_wp_common_callback(1):create_wp_common_callback(0)}}]})}function create_wp_dialog(){$.modal({title:"请选择物品种类(多选)",text:'<div class="list-block" style="width:80%; margin:0 auto; margin-top:.5rem""><label class="label-checkbox" style="vertical-align:middle;" >   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_lxq" value=""'+(has_LXQ>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">烈性犬</div>   </div></label><label class="label-checkbox">   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_xg" value=""'+(has_XG>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">信鸽</div>   </div></label><label class="label-checkbox">   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_dmx" value=""'+(has_DMX>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">低慢小</div>   </div></label><label class="label-checkbox">   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_gzdj" value=""'+(has_GZDJ>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">管制刀具</div>   </div></label><label class="label-checkbox">   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_qzdy" value=""'+(has_QZDY>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">枪支（弹药）</div>   </div></label><label class="label-checkbox">   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_gn" value=""'+(has_GN>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">弓（弩）</div>   </div></label><label class="label-checkbox">   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_wbwp" value=""'+(has_WBWP>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">危爆物品</div>   </div></label><label class="label-checkbox">   <div class="dict_wp_item row">       <div class="col-20">       <input type="checkbox" name="check_qtwxy" value=""'+(has_QTWXY>-1?'checked="checked"':"")+'>       <div class="item-media"><i class="icon icon-form-checkbox"></i></div>       </div>       <div class="col-80">其他危险源</div>   </div></label> </div>',verticalButtons:!1,buttons:[{text:"取消"},{text:"选定",onClick:function(){is_check_LXQ=$('input[name="check_lxq"]').prop("checked"),is_check_XG=$('input[name="check_xg"]').prop("checked"),is_check_DMX=$('input[name="check_dmx"]').prop("checked"),is_check_QTWXY=$('input[name="check_qtwxy"]').prop("checked"),is_check_GZDJ=$('input[name="check_gzdj"]').prop("checked"),is_check_QZDY=$('input[name="check_qzdy"]').prop("checked"),is_check_GN=$('input[name="check_gn"]').prop("checked"),is_check_WBWP=$('input[name="check_wbwp"]').prop("checked"),createWPlist()}}]})}function add_wpxx(){create_wp_dialog()}var is_check_LXQ=!1,is_check_XG=!1,is_check_DMX=!1,is_check_QTWXY=!1,is_check_GZDJ=!1,is_check_QZDY=!1,is_check_GN=!1,is_check_WBWP=!1,has_LXQ=-1,has_XG=-1,has_DMX=-1,has_QTWXY=-1,has_GZDJ=-1,has_QZDY=-1,has_GN=-1,has_WBWP=-1,wp_form_num=0;